<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>10th Students</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --primary-pink: #ff6ec4;
  --primary-purple: #7873f5;
  --primary-green: #4ade80;
  --primary-orange: #ffb347;
  --dark-bg: #1e1e2f;
  --darker-bg: #16161f;
  --accent-cyan: #00ffff;
  --accent-coral: #ff7f50;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #fff;
  overflow-x: hidden;
  min-height: 100vh;
  position: relative;
}

/* Background Video Container */
.video-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
  overflow: hidden;
  background: #000;
}

.background-video {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  object-fit: contain;
}

/* Fallback gradient if video doesn't load */
.video-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  background: linear-gradient(270deg, var(--primary-pink), var(--primary-purple), var(--primary-green), var(--primary-orange));
  background-size: 800% 800%;
  animation: gradientBG 20s ease infinite;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.video-overlay.show {
  opacity: 1;
}

@keyframes gradientBG {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Dark overlay for better text readability */
.content-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4);
  z-index: -1;
}

.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  position: relative;
  z-index: 1;
}

/* Header */
header {
  text-align: center;
  margin-bottom: 40px;
  animation: fadeInDown 0.8s ease;
}

h1 {
  font-size: clamp(2rem, 5vw, 3.5rem);
  margin-bottom: 10px;
  background: linear-gradient(90deg, var(--primary-pink), var(--primary-purple), var(--primary-green), var(--primary-orange));
  background-size: 400% 400%;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradientText 5s ease infinite;
  font-weight: 800;
  letter-spacing: 2px;
  text-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
  filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
}

@keyframes gradientText {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Quick Actions Bar */
.quick-actions {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-bottom: 30px;
  flex-wrap: wrap;
  animation: fadeIn 1s ease 0.3s both;
}

.action-btn {
  padding: 10px 20px;
  background: rgba(0, 0, 0, 0.7);
  border: 2px solid rgba(255, 255, 255, 0.2);
  color: #fff;
  border-radius: 25px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  display: flex;
  align-items: center;
  gap: 8px;
}

.action-btn:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: var(--accent-cyan);
  transform: translateY(-2px);
  box-shadow: 0 5px 20px rgba(0, 255, 255, 0.3);
}

/* Search Bar */
.search-container {
  max-width: 700px;
  margin: 0 auto 30px;
  animation: fadeIn 1s ease 0.2s both;
  position: relative;
}

.search-wrapper {
  position: relative;
}

.search-icon {
  position: absolute;
  left: 20px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 20px;
  color: var(--accent-cyan);
  pointer-events: none;
}

.search-box {
  width: 100%;
  padding: 16px 20px 16px 50px;
  background: rgba(0, 0, 0, 0.7);
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 50px;
  color: #fff;
  font-size: 16px;
  outline: none;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.search-box:focus {
  border-color: var(--accent-cyan);
  box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
  transform: scale(1.02);
  background: rgba(0, 0, 0, 0.8);
}

.search-box::placeholder {
  color: rgba(255, 255, 255, 0.6);
}

.clear-search {
  position: absolute;
  right: 20px;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: rgba(255, 255, 255, 0.6);
  font-size: 20px;
  cursor: pointer;
  display: none;
  transition: color 0.3s ease;
}

.clear-search:hover {
  color: #fff;
}

.clear-search.show {
  display: block;
}

/* Section Tabs */
.section-list {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-bottom: 30px;
  flex-wrap: wrap;
  animation: fadeIn 1s ease 0.4s both;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.section-item {
  padding: 14px 30px;
  background: rgba(0, 0, 0, 0.7);
  color: #fff;
  cursor: pointer;
  border-radius: 15px;
  font-weight: bold;
  font-size: 16px;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  border: 2px solid transparent;
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
}

.section-item::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.section-item:hover::before {
  width: 300px;
  height: 300px;
}

.section-item:hover {
  background: var(--accent-coral);
  transform: translateY(-3px);
  box-shadow: 0 8px 25px rgba(255, 127, 80, 0.5);
  border-color: rgba(255, 255, 255, 0.3);
}

.section-item.active {
  background: linear-gradient(135deg, var(--primary-purple), var(--primary-pink));
  border-color: var(--accent-cyan);
  transform: scale(1.05);
  box-shadow: 0 6px 30px rgba(120, 115, 245, 0.6);
}

/* Teacher Info */
.teacher-container {
  text-align: center;
  font-weight: bold;
  margin-bottom: 25px;
  font-size: 1.3em;
  color: var(--accent-cyan);
  padding: 18px;
  background: rgba(0, 0, 0, 0.7);
  border-radius: 15px;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 20px rgba(0, 255, 255, 0.3);
  animation: slideIn 0.6s ease;
  border: 2px solid rgba(0, 255, 255, 0.3);
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateX(-50px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Stats Bar */
.stats-bar {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-bottom: 30px;
  flex-wrap: wrap;
  animation: fadeIn 1s ease 0.6s both;
}

.stat-item {
  background: rgba(0, 0, 0, 0.7);
  padding: 20px 30px;
  border-radius: 15px;
  text-align: center;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
  border: 2px solid rgba(255, 255, 255, 0.1);
  transition: all 0.3s ease;
  min-width: 140px;
}

.stat-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6);
  border-color: var(--accent-cyan);
}

.stat-number {
  font-size: 2.5em;
  font-weight: bold;
  color: var(--primary-green);
  display: block;
  text-shadow: 0 0 10px rgba(74, 222, 128, 0.5);
}

.stat-label {
  font-size: 0.95em;
  color: rgba(255, 255, 255, 0.9);
  margin-top: 8px;
  font-weight: 600;
}

/* View Toggle */
.view-toggle {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 25px;
}

.view-btn {
  padding: 10px 20px;
  background: rgba(0, 0, 0, 0.7);
  border: 2px solid rgba(255, 255, 255, 0.2);
  color: #fff;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
}

.view-btn.active {
  background: var(--primary-purple);
  border-color: var(--accent-cyan);
}

.view-btn:hover {
  background: rgba(255, 255, 255, 0.2);
}

/* Student Grid */
.student-list {
  list-style: none;
  display: grid;
  gap: 20px;
  margin-bottom: 40px;
}

.student-list.grid-view {
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

.student-list.list-view {
  grid-template-columns: 1fr;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}

.student-item {
  display: flex;
  align-items: center;
  background: rgba(0, 0, 0, 0.7);
  padding: 20px;
  border-radius: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
  color: var(--accent-cyan);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(10px);
  border: 2px solid transparent;
  position: relative;
  overflow: hidden;
  animation: cardSlideIn 0.5s ease both;
}

@keyframes cardSlideIn {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.student-item::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.5s;
}

.student-item:hover::after {
  left: 100%;
}

.student-item:hover {
  background: rgba(255, 127, 80, 0.9);
  color: #000;
  transform: translateY(-5px);
  box-shadow: 0 12px 40px rgba(255, 127, 80, 0.6);
  border-color: var(--accent-cyan);
}

.student-avatar {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  margin-right: 20px;
  background: linear-gradient(135deg, var(--primary-purple), var(--primary-pink));
  object-fit: cover;
  border: 3px solid rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
  flex-shrink: 0;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
}

.student-item:hover .student-avatar {
  transform: rotate(360deg) scale(1.1);
  border-color: #fff;
  box-shadow: 0 6px 25px rgba(255, 255, 255, 0.5);
}

.student-info {
  flex: 1;
}

.student-name {
  font-weight: bold;
  font-size: 1.2em;
  margin-bottom: 6px;
}

.student-roll {
  font-size: 0.9em;
  opacity: 0.85;
}

/* Modal */
.modal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.85);
  justify-content: center;
  align-items: center;
  z-index: 1000;
  backdrop-filter: blur(8px);
  animation: fadeIn 0.3s ease;
  padding: 20px;
}

.modal.show {
  display: flex;
}

.modal-content {
  background: linear-gradient(135deg, var(--dark-bg), var(--darker-bg));
  color: #fff;
  padding: 35px;
  border-radius: 25px;
  width: 500px;
  max-width: 100%;
  text-align: center;
  box-shadow: 0 15px 60px rgba(0, 0, 0, 0.7);
  border: 2px solid rgba(255, 255, 255, 0.1);
  animation: modalZoom 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  position: relative;
  max-height: 90vh;
  overflow-y: auto;
}

@keyframes modalZoom {
  from {
    transform: scale(0.5) rotate(-5deg);
    opacity: 0;
  }
  to {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

.modal-content img {
  width: 130px;
  height: 130px;
  border-radius: 50%;
  margin-bottom: 25px;
  border: 4px solid var(--accent-cyan);
  box-shadow: 0 10px 40px rgba(0, 255, 255, 0.4);
  object-fit: cover;
}

.modal-content h2 {
  font-size: 2em;
  margin-bottom: 25px;
  color: var(--primary-green);
  text-shadow: 0 0 15px rgba(74, 222, 128, 0.6);
}

.modal-info {
  text-align: left;
  margin: 25px 0;
  background: rgba(0, 0, 0, 0.4);
  padding: 25px;
  border-radius: 15px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.modal-info p {
  margin: 15px 0;
  font-size: 1.05em;
  line-height: 1.8;
}

.modal-info b {
  color: var(--accent-cyan);
  margin-right: 10px;
  font-size: 1.1em;
}

.modal-buttons {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin-top: 25px;
  flex-wrap: wrap;
}

.close-btn, .share-btn {
  padding: 14px 35px;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  font-weight: bold;
  font-size: 16px;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.close-btn {
  background: linear-gradient(135deg, #dc2626, #991b1b);
  color: white;
  box-shadow: 0 4px 20px rgba(220, 38, 38, 0.4);
}

.close-btn:hover {
  background: linear-gradient(135deg, #991b1b, #7f1d1d);
  transform: scale(1.05);
  box-shadow: 0 6px 30px rgba(220, 38, 38, 0.6);
}

.share-btn {
  background: linear-gradient(135deg, var(--primary-green), #22c55e);
  color: #000;
  box-shadow: 0 4px 20px rgba(74, 222, 128, 0.4);
}

.share-btn:hover {
  background: linear-gradient(135deg, #22c55e, #16a34a);
  transform: scale(1.05);
  box-shadow: 0 6px 30px rgba(74, 222, 128, 0.6);
}

.modal a {
  color: #60a5fa;
  text-decoration: none;
  font-weight: bold;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: all 0.3s ease;
}

.modal a:hover {
  color: #93c5fd;
  transform: translateX(5px);
}

.modal a img {
  width: 22px;
  height: 22px;
  border: none;
  box-shadow: none;
  margin: 0;
}

/* Music Popup */
#musicPopup {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  backdrop-filter: blur(10px);
}

#musicPopup .popup-box {
  background: linear-gradient(135deg, var(--dark-bg), var(--darker-bg));
  color: #fff;
  padding: 50px 60px;
  border-radius: 25px;
  text-align: center;
  box-shadow: 0 15px 60px rgba(0, 0, 0, 0.7);
  border: 2px solid rgba(255, 255, 255, 0.1);
  animation: popupScale 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  max-width: 90%;
}

#musicPopup h2 {
  font-size: 2.5em;
  margin-bottom: 20px;
  background: linear-gradient(90deg, var(--primary-pink), var(--primary-purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

#musicPopup p {
  font-size: 1.2em;
  margin-bottom: 30px;
  opacity: 0.9;
}

#musicPopup button {
  padding: 16px 45px;
  background: linear-gradient(135deg, var(--primary-green), #22c55e);
  border: none;
  border-radius: 15px;
  color: #000;
  font-weight: bold;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 6px 25px rgba(74, 222, 128, 0.4);
}

#musicPopup button:hover {
  background: linear-gradient(135deg, #22c55e, #16a34a);
  transform: scale(1.1);
  box-shadow: 0 10px 40px rgba(74, 222, 128, 0.6);
}

@keyframes popupScale {
  from {
    transform: scale(0.7);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* No Results */
.no-results {
  text-align: center;
  padding: 80px 20px;
  font-size: 1.4em;
  color: rgba(255, 255, 255, 0.8);
  background: rgba(0, 0, 0, 0.6);
  border-radius: 20px;
  backdrop-filter: blur(10px);
  border: 2px dashed rgba(255, 255, 255, 0.3);
}

/* Loading Spinner */
.loading {
  text-align: center;
  padding: 60px;
  font-size: 1.3em;
}

.spinner {
  border: 4px solid rgba(255, 255, 255, 0.3);
  border-top: 4px solid var(--accent-cyan);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin: 20px auto;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Scroll to Top Button */
.scroll-top {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 50px;
  height: 50px;
  background: linear-gradient(135deg, var(--primary-purple), var(--primary-pink));
  border: none;
  border-radius: 50%;
  color: #fff;
  font-size: 24px;
  cursor: pointer;
  opacity: 0;
  transition: all 0.3s ease;
  z-index: 100;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
}

.scroll-top.show {
  opacity: 1;
}

.scroll-top:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 30px rgba(120, 115, 245, 0.6);
}

/* Responsive Design */
@media (max-width: 768px) {
  .container {
    padding: 15px;
  }

  h1 {
    font-size: 2rem;
  }

  .student-list.grid-view {
    grid-template-columns: 1fr;
  }

  .section-list {
    gap: 10px;
  }

  .section-item {
    padding: 12px 22px;
    font-size: 14px;
  }

  .stats-bar {
    gap: 15px;
  }

  .stat-item {
    padding: 15px 25px;
    min-width: 120px;
  }

  .stat-number {
    font-size: 2em;
  }

  .modal-content {
    padding: 25px;
  }

  .modal-buttons {
    flex-direction: column;
  }

  .close-btn, .share-btn {
    width: 100%;
    justify-content: center;
  }

  .quick-actions {
    gap: 10px;
  }

  .action-btn {
    padding: 8px 16px;
    font-size: 14px;
  }

  #musicPopup .popup-box {
    padding: 35px 40px;
  }
}

@media (max-width: 480px) {
  .student-avatar {
    width: 55px;
    height: 55px;
    margin-right: 15px;
  }

  .student-name {
    font-size: 1em;
  }

  .student-roll {
    font-size: 0.8em;
  }

  .search-box {
    font-size: 14px;
    padding: 14px 18px 14px 45px;
  }

  .modal-content img {
    width: 100px;
    height: 100px;
  }
}

/* Tablets */
@media (min-width: 769px) and (max-width: 1024px) {
  .student-list.grid-view {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  }
}

/* Large Screens */
@media (min-width: 1400px) {
  .student-list.grid-view {
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  }
}

/* Scrollbar Styling */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.3);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--primary-purple), var(--primary-pink));
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, var(--primary-pink), var(--primary-orange));
}

/* Print Styles */
@media print {
  .background-video, .video-overlay, .content-overlay,
  .quick-actions, .search-container, .view-toggle,
  .scroll-top, #musicPopup {
    display: none !important;
  }

  body {
    background: white;
    color: black;
  }

  .student-item {
    break-inside: avoid;
  }
}
</style>
</head>
<body>

<div class="video-background">
  <video autoplay muted loop playsinline class="background-video" id="bgVideo">
    <source src="photos/background.mp4" type="video/mp4">
  </video>
</div>

<div class="video-overlay" id="videoOverlay"></div>
<div class="content-overlay"></div>

<audio id="bgMusic" loop>
  <source src="photos/music.mp3" type="audio/mpeg">
</audio>

<div id="musicPopup">
  <div class="popup-box">
    <h2>🎵 Welcome!</h2>
    <p>Enhance your experience with background music</p>
    <button onclick="startMusic()">🎧 Play Music</button>
  </div>
</div>

<button class="scroll-top" id="scrollTop" onclick="scrollToTop()">↑</button>

<div class="container">
  <header>
    <h1>🎓 10th Students Directory</h1>
  </header>

  <div class="quick-actions">
    <button class="action-btn" onclick="exportData()">📊 Export Data</button>
    <button class="action-btn" onclick="printDirectory()">🖨️ Print</button>
    <button class="action-btn" onclick="toggleDarkMode()">🌙 Theme</button>
  </div>

  <div class="search-container">
    <div class="search-wrapper">
      <span class="search-icon">🔍</span>
      <input type="text" class="search-box" id="searchBox" placeholder="Search by name, roll number, or GR number...">
      <button class="clear-search" id="clearSearch" onclick="clearSearch()">✕</button>
    </div>
  </div>

  <div class="section-list" id="sectionList">
    <div class="section-item" data-section="A">10th A</div>
    <div class="section-item" data-section="B">10th B</div>
    <div class="section-item active" data-section="C">10th C</div>
    <div class="section-item" data-section="D">10th D</div>
    <div class="section-item" data-section="E">10th E</div>
  </div>

  <div class="teacher-container" id="teacherName" style="display: none;">
    👨‍🏫 Class Teacher: Ghanshyam Viswakarma
  </div>

  <div class="stats-bar" id="statsBar" style="display: none;">
    <div class="stat-item">
      <span class="stat-number" id="totalStudents">0</span>
      <span class="stat-label">Total Students</span>
    </div>
    <div class="stat-item">
      <span class="stat-number" id="girlsCount">0</span>
      <span class="stat-label">Girls</span>
    </div>
    <div class="stat-item">
      <span class="stat-number" id="boysCount">0</span>
      <span class="stat-label">Boys</span>
    </div>
  </div>

  <div class="view-toggle">
    <button class="view-btn active" data-view="grid" onclick="changeView('grid')">📱 Grid View</button>
    <button class="view-btn" data-view="list" onclick="changeView('list')">📋 List View</button>
  </div>

  <ul class="student-list grid-view" id="studentList"></ul>
</div>

<div class="modal" id="studentModal">
  <div class="modal-content">
    <img id="modalAvatar" src="" alt="Avatar">
    <h2 id="modalNick"></h2>
    <div class="modal-info">
      <p><b>📝 Full Name:</b> <span id="modalName"></span></p>
      <p><b>🔢 Roll No:</b> <span id="modalRoll"></span></p>
      <p><b>🆔 GR No:</b> <span id="modalGR"></span></p>
      <p id="modalBioContainer" style="display: none;"><b>💭 Bio:</b> <span id="modalBio"></span></p>
      <p id="modalInstagram"></p>
    </div>
    <div class="modal-buttons">
      <button class="share-btn" onclick="shareStudent()">📤 Share</button>
      <button class="close-btn" onclick="closeModal()">✕ Close</button>
    </div>
  </div>
</div>

<script>
const music = document.getElementById('bgMusic');
const searchBox = document.getElementById('searchBox');
const clearSearchBtn = document.getElementById('clearSearch');
const scrollTopBtn = document.getElementById('scrollTop');
let currentSection = 'C';
let allStudents = [];
let currentStudent = null;
let currentView = 'grid';

function startMusic() {
  music.play().catch(e => console.log('Music play failed:', e));
  document.getElementById("musicPopup").style.display = "none";
  sessionStorage.setItem("musicPlayed", "true");
}

window.onload = () => {
  if (sessionStorage.getItem("musicPlayed") === "true") {
    music.play().catch(e => console.log('Music play failed:', e));
    document.getElementById("musicPopup").style.display = "none";
  }
  showSection('C');
};

const studentsData = {
  "A": [],
  "B": [],
  "C": [
    {roll:1, gr:31841, name:"BIND PURNIMA RAJKUMAR", nick:"PURNIMA", gender:"F", bio:"", avatar:"photos/roll1.jpg", insta:""},
    {roll:2, gr:31971, name:"DAS PRIYANKA KUMARI MAHENDRA", nick:"PRIYANKA", gender:"F", bio:"", avatar:"photos/roll2.jpg", insta:""},
    {roll:3, gr:31405, name:"DUBEY VANSHIKA PANKAJ", nick:"VANSHIKA", gender:"F", bio:"", avatar:"photos/roll3.jpg", insta:""},
    {roll:4, gr:31875, name:"GAUTAM KOMAL RAJESH", nick:"KOMAL", gender:"F", bio:"", avatar:"photos/roll4.jpg", insta:""},
    {roll:5, gr:31996, name:"GUPTA LAXMI PARMATMA", nick:"LAXMI", gender:"F", bio:"", avatar:"photos/roll5.jpg", insta:""},
    {roll:6, gr:32069, name:"KHAN ALSIBA NOOR MOHAMMAD", nick:"ALSIBA", gender:"F", bio:"", avatar:"photos/roll6.jpg", insta:""},
    {roll:7, gr:30767, name:"KHAN KAUSAR NASIR", nick:"KAUSAR", gender:"F", bio:"", avatar:"photos/roll7.jpg", insta:""},
    {roll:8, gr:30768, name:"KHAN NAZIYA BEGUM SABIR", nick:"NAZIYA", gender:"F", bio:"", avatar:"photos/roll8.jpg", insta:""},
    {roll:9, gr:30725, name:"KHAN ZOYA MOHD. SALIM", nick:"ZOYA", gender:"F", bio:"", avatar:"photos/roll9.jpg", insta:""},
    {roll:10, gr:31970, name:"KORI SONAM ANUJ KUMAR", nick:"SONAM", gender:"F", bio:"", avatar:"photos/roll10.jpg", insta:""},
    {roll:11, gr:31885, name:"PANDA MANASI NARAYAN", nick:"MANASI", gender:"F", bio:"", avatar:"photos/roll11.jpg", insta:""},
    {roll:12, gr:31863, name:"PANIGRAHI SANDHYARANI MANOJ", nick:"SANDHYA", gender:"F", bio:"", avatar:"photos/roll12.jpg", insta:"its_me_sandhya_901"},
    {roll:13, gr:30709, name:"PRAJAPATI KHUSHBU RAKESH", nick:"KHUSHBU", gender:"F", bio:"", avatar:"photos/roll13.jpg", insta:""},
    {roll:14, gr:30765, name:"SAHU ENSEE INDRESH", nick:"ENSEE", gender:"F", bio:"", avatar:"photos/roll14.jpg", insta:""},
    {roll:15, gr:30711, name:"SAHU JIYA SANTOSH KUMAR", nick:"JIYA", gender:"F", bio:"", avatar:"photos/roll15.jpg", insta:""},
    {roll:16, gr:30799, name:"SAHU RITU RAMNARESH", nick:"RITU", gender:"F", bio:"", avatar:"photos/roll16.jpg", insta:""},
    {roll:17, gr:31922, name:"SAHU RIYA RAKESH KUMAR", nick:"RIYA", gender:"F", bio:"", avatar:"photos/roll17.jpg", insta:""},
    {roll:18, gr:31730, name:"SHARMA MUSKAN KUMARI ANNU", nick:"MUSKAN", gender:"F", bio:"", avatar:"photos/roll18.jpg", insta:""},
    {roll:19, gr:31858, name:"SHARMA RAJKUMARI ASHOK", nick:"RAJKUMARI", gender:"F", bio:"", avatar:"photos/roll19.jpg", insta:""},
    {roll:20, gr:31852, name:"SHARMA SIDDHI SANJAY", nick:"SIDDHI", gender:"F", bio:"", avatar:"photos/roll20.jpg", insta:""},
    {roll:21, gr:30716, name:"SHARMA VAISHNAVI AMIT", nick:"VAISHNAVI", gender:"F", bio:"", avatar:"photos/roll21.jpg", insta:""},
    {roll:22, gr:31870, name:"SHUKLA PARI DEVIPRASAD", nick:"PARI", gender:"F", bio:"", avatar:"photos/roll22.jpg", insta:""},
    {roll:23, gr:31839, name:"SINGH ANANYA BHUPENDRA KUMAR", nick:"ANANYA", gender:"F", bio:"", avatar:"photos/roll23.jpg", insta:""},
    {roll:24, gr:31369, name:"SINGH KHUSHBOO MUNNA", nick:"KHUSHBOO", gender:"F", bio:"", avatar:"photos/roll24.jpg", insta:""},
    {roll:25, gr:31980, name:"SONI REEMA RAVI", nick:"REEMA", gender:"F", bio:"", avatar:"photos/roll25.jpg", insta:""},
    {roll:26, gr:31874, name:"THAKUR POOJA KUMARI MUNNA", nick:"POOJA", gender:"F", bio:"", avatar:"photos/roll26.jpg", insta:""},
    {roll:27, gr:31964, name:"VARMA SHEETAL PRAMOD", nick:"SHEETAL", gender:"F", bio:"", avatar:"photos/roll27.jpg", insta:""},
    {roll:28, gr:32031, name:"YADAV POONAM SURENDRA", nick:"POONAM", gender:"F", bio:"", avatar:"photos/roll28.jpg", insta:""},
    {roll:29, gr:30830, name:"CHAURASIYA NAGESH DEEPAK", nick:"NAGESH", gender:"M", bio:"", avatar:"photos/roll29.jpg", insta:""},
    {roll:30, gr:31020, name:"GAUD ARPIT DINESH KUMAR", nick:"ARPIT", gender:"M", bio:"", avatar:"photos/roll30.jpg", insta:""},
    {roll:31, gr:30710, name:"GUPTA ANKUR RAMESH", nick:"ANKUR", gender:"M", bio:"", avatar:"photos/roll31.jpg", insta:""},
    {roll:32, gr:31894, name:"GUPTA ANSH SANTOSH", nick:"ANSH", gender:"M", bio:"", avatar:"photos/roll32.jpg", insta:""},
    {roll:33, gr:30726, name:"GUPTA DEVANAND DILIP", nick:"DEVANAND", gender:"M", bio:"", avatar:"photos/roll33.jpg", insta:""},
    {roll:34, gr:31912, name:"GUPTA SAHIL HIRALAL", nick:"SAHIL", gender:"M", bio:"", avatar:"photos/roll34.jpg", insta:""},
    {roll:35, gr:31641, name:"GURJAR BHAVVESH RAMESHCHANDRA SEVAK", nick:"BHAVVESH", gender:"M", bio:"", avatar:"photos/roll35.jpg", insta:""},
    {roll:36, gr:30998, name:"JAISWAL AADARSH KAILASH", nick:"AADARSH", gender:"M", bio:"", avatar:"photos/roll36.jpg", insta:"jais_aadarsh_18"},
    {roll:37, gr:31937, name:"JAISWAL SHYAMSUNDAR NANDKISHOR", nick:"SHYAMSUNDAR", gender:"M", bio:"", avatar:"photos/roll37.jpg", insta:""},
    {roll:38, gr:31845, name:"JAISWAR RAJ LOLARAKH", nick:"RAJ", gender:"M", bio:"", avatar:"photos/roll38.jpg", insta:""},
    {roll:39, gr:31877, name:"JAISWAR RAJ RAJESH", nick:"RAJESH", gender:"M", bio:"", avatar:"photos/roll39.jpg", insta:""},
    {roll:40, gr:31838, name:"JAISWAR VIJAY DEVENDRA", nick:"VIJAY", gender:"M", bio:"", avatar:"photos/roll40.jpg", insta:"vijayjais17"},
    {roll:41, gr:31728, name:"KANOJIYA AVINASH BRIJESH", nick:"AVINASH", gender:"M", bio:"", avatar:"photos/roll41.jpg", insta:""},
    {roll:42, gr:32011, name:"KHAN RIZWAN SAHIM", nick:"RIZWAN", gender:"M", bio:"", avatar:"photos/roll42.jpg", insta:""},
    {roll:43, gr:30758, name:"KHAN SHAIZAN ISMAIL", nick:"SHAIZAN", gender:"M", bio:"", avatar:"photos/roll43.jpg", insta:""},
    {roll:44, gr:30764, name:"MANDAL AMIT DINESH", nick:"AMIT", gender:"M", bio:"", avatar:"photos/roll44.jpg", insta:""},
    {roll:45, gr:31899, name:"PATHAK AMIT KUMAR SUNIL KUMAR", nick:"AMIT KUMAR", gender:"M", bio:"", avatar:"photos/roll45.jpg", insta:""},
    {roll:46, gr:31984, name:"PRAJAPATI PRATIK RAJKUMAR", nick:"PRATIK", gender:"M", bio:"", avatar:"photos/roll46.jpg", insta:""},
    {roll:47, gr:31445, name:"PRAJAPATI SUMIT MANOJ", nick:"SUMIT", gender:"M", bio:"", avatar:"photos/roll47.jpg", insta:""},
    {roll:48, gr:31900, name:"RAI SURAJ MUKESH", nick:"SURAJ", gender:"M", bio:"", avatar:"photos/roll48.jpg", insta:""},
    {roll:49, gr:31942, name:"RAJBHAR ANURAG RAJESH", nick:"ANURAG", gender:"M", bio:"", avatar:"photos/roll49.jpg", insta:""},
    {roll:50, gr:32003, name:"RAM ANUJ KUMAR JAGDISH", nick:"ANUJ", gender:"M", bio:"", avatar:"photos/roll50.jpg", insta:""},
    {roll:51, gr:31840, name:"SAHU AAYUSH KUMAR SHRAVAN KUMAR", nick:"AAYUSH", gender:"M", bio:"", avatar:"photos/roll51.jpg", insta:""},
    {roll:52, gr:30771, name:"SAHU ABHISHEK INDRESH", nick:"ABHISHEK", gender:"M", bio:"", avatar:"photos/roll52.jpg", insta:""},
    {roll:53, gr:31857, name:"SAHU SHIVAM NIRMAL", nick:"SHIVAM", gender:"M", bio:"", avatar:"photos/roll53.jpg", insta:""},
    {roll:54, gr:31933, name:"SHARMA AASHISH HEERALAL", nick:"AASHISH", gender:"M", bio:"", avatar:"photos/roll54.jpg", insta:""},
    {roll:55, gr:31972, name:"SHARMA SUNNY SANJAY", nick:"SUNNY", gender:"M", bio:"", avatar:"photos/roll55.jpg", insta:""},
    {roll:56, gr:30759, name:"SINGH AMAN MANOJ", nick:"AMAN", gender:"M", bio:"", avatar:"photos/roll56.jpg", insta:""},
    {roll:57, gr:31741, name:"SONI ANSH AJAY", nick:"ANSH SONI", gender:"M", bio:"", avatar:"photos/roll57.jpg", insta:""},
    {roll:58, gr:31884, name:"SUTAR ADITYA AJIT", nick:"ADITYA", gender:"M", bio:"The DEVELOPER", avatar:"photos/roll58.jpg", insta:"_adityatheog"}
  ],
  "D": [],
  "E": []
};

function showSection(section) {
  currentSection = section;
  allStudents = studentsData[section] || [];
  
  document.querySelectorAll('.section-item').forEach(item => {
    if (item.dataset.section === section) {
      item.classList.add('active');
    } else {
      item.classList.remove('active');
    }
  });
  
  const teacherDiv = document.getElementById("teacherName");
  teacherDiv.style.display = (section === "C") ? "block" : "none";
  
  searchBox.value = '';
  clearSearchBtn.classList.remove('show');
  
  updateStats();
  displayStudents(allStudents);
}

function updateStats() {
  const statsBar = document.getElementById('statsBar');
  if (allStudents.length === 0) {
    statsBar.style.display = 'none';
    return;
  }
  
  statsBar.style.display = 'flex';
  const girls = allStudents.filter(s => s.gender === 'F').length;
  const boys = allStudents.filter(s => s.gender === 'M').length;
  
  animateValue('totalStudents', 0, allStudents.length, 1000);
  animateValue('girlsCount', 0, girls, 1000);
  animateValue('boysCount', 0, boys, 1000);
}

function animateValue(id, start, end, duration) {
  const obj = document.getElementById(id);
  const range = end - start;
  const increment = end > start ? 1 : -1;
  const stepTime = Math.abs(Math.floor(duration / range));
  let current = start;
  
  const timer = setInterval(() => {
    current += increment;
    obj.textContent = current;
    if (current === end) {
      clearInterval(timer);
    }
  }, stepTime);
}

function displayStudents(students) {
  const list = document.getElementById("studentList");
  list.innerHTML = "";
  
  if (students.length === 0) {
    list.innerHTML = '<li class="no-results">❌ No students found matching your search</li>';
    return;
  }
  
  students.forEach((student, index) => {
    const li = document.createElement("li");
    li.className = "student-item";
    li.style.animationDelay = `${index * 0.05}s`;
    
    li.innerHTML = `
      <img src="${student.avatar || 'photos/default.jpg'}" 
           class="student-avatar" 
           alt="${student.nick}"
           onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22%3E%3Crect fill=%22%237873f5%22 width=%22100%22 height=%22100%22/%3E%3Ctext fill=%22white%22 font-size=%2240%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3E${student.nick.charAt(0)}%3C/text%3E%3C/svg%3E'">
      <div class="student-info">
        <div class="student-name">${student.nick}</div>
        <div class="student-roll">Roll: ${student.roll} • GR: ${student.gr}</div>
      </div>
    `;
    
    li.onclick = () => openModal(student);
    list.appendChild(li);
  });
}

function openModal(student) {
  currentStudent = student;
  const modal = document.getElementById("studentModal");
  
  document.getElementById("modalAvatar").src = student.avatar || 'photos/default.jpg';
  document.getElementById("modalAvatar").onerror = function() {
    this.src = `data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22120%22 height=%22120%22%3E%3Crect fill=%22%237873f5%22 width=%22120%22 height=%22120%22/%3E%3Ctext fill=%22white%22 font-size=%2250%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22 dy=%22.3em%22%3E${student.nick.charAt(0)}%3C/text%3E%3C/svg%3E`;
  };
  
  document.getElementById("modalNick").textContent = student.nick || "";
  document.getElementById("modalName").textContent = student.name || "";
  document.getElementById("modalRoll").textContent = student.roll || "";
  document.getElementById("modalGR").textContent = student.gr || "";
  
  const bioContainer = document.getElementById("modalBioContainer");
  const bioText = document.getElementById("modalBio");
  if (student.bio && student.bio.trim()) {
    bioText.textContent = student.bio;
    bioContainer.style.display = 'block';
  } else {
    bioContainer.style.display = 'none';
  }
  
  const insta = document.getElementById("modalInstagram");
  if (student.insta && student.insta.trim()) {
    insta.innerHTML = `<b>📱 Instagram:</b> <a href="https://instagram.com/${student.insta}" target="_blank" rel="noopener noreferrer">
      <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram"> @${student.insta}
    </a>`;
    insta.style.display = 'block';
  } else {
    insta.style.display = 'none';
  }
  
  modal.classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById("studentModal").classList.remove('show');
  document.body.style.overflow = 'auto';
  currentStudent = null;
}

function shareStudent() {
  if (!currentStudent) return;
  
  const text = `Check out ${currentStudent.nick}'s profile!\nName: ${currentStudent.name}\nRoll: ${currentStudent.roll}\nGR: ${currentStudent.gr}`;
  
  if (navigator.share) {
    navigator.share({
      title: `${currentStudent.nick} - 10th ${currentSection}`,
      text: text
    }).catch(err => console.log('Share failed:', err));
  } else {
    navigator.clipboard.writeText(text).then(() => {
      alert('Profile details copied to clipboard!');
    }).catch(err => {
      console.log('Copy failed:', err);
    });
  }
}

searchBox.addEventListener('input', (e) => {
  const query = e.target.value.toLowerCase().trim();
  
  if (query) {
    clearSearchBtn.classList.add('show');
  } else {
    clearSearchBtn.classList.remove('show');
  }
  
  if (!query) {
    displayStudents(allStudents);
    return;
  }
  
  const filtered = allStudents.filter(student => {
    return student.nick.toLowerCase().includes(query) ||
           student.name.toLowerCase().includes(query) ||
           student.roll.toString().includes(query) ||
           student.gr.toString().includes(query);
  });
  
  displayStudents(filtered);
});

function clearSearch() {
  searchBox.value = '';
  clearSearchBtn.classList.remove('show');
  displayStudents(allStudents);
  searchBox.focus();
}

function changeView(view) {
  currentView = view;
  const list = document.getElementById('studentList');
  
  document.querySelectorAll('.view-btn').forEach(btn => {
    if (btn.dataset.view === view) {
      btn.classList.add('active');
    } else {
      btn.classList.remove('active');
    }
  });
  
  if (view === 'grid') {
    list.classList.remove('list-view');
    list.classList.add('grid-view');
  } else {
    list.classList.remove('grid-view');
    list.classList.add('list-view');
  }
}

function exportData() {
  if (allStudents.length === 0) {
    alert('No data to export!');
    return;
  }
  
  let csv = 'Roll No,GR No,Full Name,Nick Name,Gender\n';
  allStudents.forEach(student => {
    csv += `${student.roll},${student.gr},"${student.name}","${student.nick}",${student.gender}\n`;
  });
  
  const blob = new Blob([csv], { type: 'text/csv' });
  const url = window.URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `10th_${currentSection}_students.csv`;
  a.click();
  window.URL.revokeObjectURL(url);
}

function printDirectory() {
  window.print();
}

function toggleDarkMode() {
  const overlay = document.getElementById('videoOverlay');
  const contentOverlay = document.querySelector('.content-overlay');
  
  if (contentOverlay.style.background === 'rgba(0, 0, 0, 0.7)') {
    contentOverlay.style.background = 'rgba(0, 0, 0, 0.4)';
  } else {
    contentOverlay.style.background = 'rgba(0, 0, 0, 0.7)';
  }
}

function scrollToTop() {
  window.scrollTo({
    top: 0,
    behavior: 'smooth'
  });
}

window.addEventListener('scroll', () => {
  if (window.pageYOffset > 300) {
    scrollTopBtn.classList.add('show');
  } else {
    scrollTopBtn.classList.remove('show');
  }
});

document.querySelectorAll('.section-item').forEach(item => {
  item.addEventListener('click', () => {
    showSection(item.dataset.section);
  });
});

window.onclick = (e) => {
  const modal = document.getElementById("studentModal");
  if (e.target === modal) {
    closeModal();
  }
};

document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    closeModal();
  }
  if (e.ctrlKey && e.key === 'f') {
    e.preventDefault();
    searchBox.focus();
  }
});

const video = document.getElementById("bgVideo");
const videoOverlay = document.getElementById("videoOverlay");

video.addEventListener('loadeddata', () => {
  videoOverlay.classList.remove('show');
});

video.onerror = () => {
  videoOverlay.classList.add('show');
  console.log('Video failed to load, showing gradient fallback');
};

music.onerror = () => {
  music.pause();
  console.log('Music file not found');
};

showSection('C');
</script>
</body>
</html>
